<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Вход — IT‑школа Peaky Minds</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Prata&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/styles.css">
</head>
<body>
  <div class="bg-orb orb-1"></div>
  <div class="bg-orb orb-2"></div>
  <div class="bg-orb orb-3"></div>

  <main class="auth-page">
    <div class="auth-card">
      <div class="auth-header">
        <div class="auth-logo">IT‑школа Peaky Minds</div>
        <h1 class="auth-title">Вход в аккаунт</h1>
        <p class="auth-subtitle">Выберите способ входа или получите код на email.</p>
        {% if error %}
        <div class="form-note error" style="margin-top: 16px;">{{ error }}</div>
        {% endif %}
      </div>

      <form class="auth-form" action="/login/email" method="post">
        <input type="hidden" name="next" value="{{ next }}">
        <label class="auth-label">Email</label>
        <input type="email" name="email" placeholder="you@example.com" required>
        <button class="btn btn-primary" type="submit">Получить код</button>
        <p class="auth-hint">Код действует 10 минут.</p>
      </form>

      <div class="auth-divider">
        <span>или</span>
      </div>

      <div class="auth-icons">
        {% if providers.google %}
          <a class="auth-icon" href="/login/google" aria-label="Войти через Google">
            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 48 48">
            <path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"></path><path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"></path><path fill="#4CAF50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"></path><path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"></path>
            </svg>
          </a>
        {% else %}
          <span class="auth-icon disabled" aria-label="Google недоступен">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <circle cx="12" cy="12" r="10" fill="#666" opacity="0.4"/>
            </svg>
          </span>
        {% endif %}

        {% if providers.vk %}
          <a class="auth-icon" href="/login/vk" aria-label="Войти через VK ID">
            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 48 48">
            <path fill="#1876d2" d="M24,4C13,4,4,13,4,24s9,20,20,20s20-9,20-20S35,4,24,4z"></path><path fill="#fff" d="M25.8,33.3h-2.3c-7.4-0.2-12.6-7.2-12.6-16.5h4.5c0,6.8,3.5,11.8,8.2,12l2.2,0V33.3z"></path><path fill="#fff" d="M21.3,16.8V33c0.7,0.2,1.5,0.3,2.3,0.3h2.3V16.8H21.3z"></path><path fill="#fff" d="M37,33.2h-4.5c0-0.5-0.9-2.3-2.6-3.6c-2.5-1.9-5.2-1.9-6.9-1.9h-0.7v-4.5H23c1.9,0,6,0,9.7,2.9 C34.9,27.7,37,30.6,37,33.2z"></path><path fill="#fff" d="M23,27.7h-0.7v-4.5H23c1.5,0,4,0,6.2-2c1.5-1.5,2.5-3.6,2.5-4.4h4.5c0,2.6-2,5.7-3.9,7.6 C28.8,27.7,24.9,27.7,23,27.7z"></path>
            </svg>
          </a>
        {% else %}
          <span class="auth-icon disabled" aria-label="VK недоступен">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <circle cx="12" cy="12" r="10" fill="#666" opacity="0.4"/>
            </svg>
          </span>
        {% endif %}

        {% if providers.telegram %}
          <div class="auth-icon auth-icon-telegram" aria-label="Войти через Telegram">
            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 48 48">
            <path fill="#29b6f6" d="M24 4A20 20 0 1 0 24 44A20 20 0 1 0 24 4Z"></path><path fill="#fff" d="M33.95,15l-3.746,19.126c0,0-0.161,0.874-1.245,0.874c-0.576,0-0.873-0.274-0.873-0.274l-8.114-6.733 l-3.97-2.001l-5.095-1.355c0,0-0.907-0.262-0.907-1.012c0-0.625,0.933-0.923,0.933-0.923l21.316-8.468 c-0.001-0.001,0.651-0.235,1.126-0.234C33.667,14,34,14.125,34,14.5C34,14.75,33.95,15,33.95,15z"></path><path fill="#b0bec5" d="M23,30.505l-3.426,3.374c0,0-0.149,0.115-0.348,0.12c-0.069,0.002-0.143-0.009-0.219-0.043 l0.964-5.965L23,30.505z"></path><path fill="#cfd8dc" d="M29.897,18.196c-0.169-0.22-0.481-0.26-0.701-0.093L16,26c0,0,2.106,5.892,2.427,6.912 c0.322,1.021,0.58,1.045,0.58,1.045l0.964-5.965l9.832-9.096C30.023,18.729,30.064,18.416,29.897,18.196z"></path>
            </svg>
            <div class="tg-login-button">
              <script async src="https://telegram.org/js/telegram-widget.js?22"
                data-telegram-login="{{ telegram_bot_username }}"
                data-size="small"
                data-auth-url="{{ telegram_auth_url }}"
                data-request-access="write"></script>
            </div>
          </div>
        {% else %}
          <span class="auth-icon disabled" aria-label="Telegram недоступен">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <circle cx="12" cy="12" r="10" fill="#666" opacity="0.4"/>
            </svg>
          </span>
        {% endif %}
      </div>
    </div>
  </main>
</body>
</html>
